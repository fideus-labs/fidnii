<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>fidnii Test Page</title>
    <style>
      * { box-sizing: border-box; margin: 0; padding: 0; }
      body { font-family: monospace; background: #1a1a1a; color: #eee; display: flex; height: 100vh; }
      #sidebar {
        width: 300px; padding: 12px; overflow-y: auto; flex-shrink: 0;
        display: flex; flex-direction: column; gap: 10px; font-size: 13px;
      }
      #sidebar h1 { font-size: 16px; margin-bottom: 4px; }
      #canvas-area { flex: 1; min-width: 0; display: flex; flex-direction: column; }
      #canvas-area .canvas-row { display: flex; flex: 1; min-height: 0; }
      .canvas-wrap { flex: 1; min-width: 0; position: relative; }
      .canvas-wrap canvas { width: 100%; height: 100%; display: block; }
      .canvas-label {
        position: absolute; top: 4px; left: 8px; font-size: 11px;
        color: #888; pointer-events: none; z-index: 1;
      }
      label { display: block; margin-bottom: 2px; color: #aaa; }
      .row { display: flex; gap: 6px; align-items: center; }
      .row span { min-width: 30px; }
      input[type="range"] { flex: 1; }
      select { padding: 2px 4px; font-family: monospace; }
      button { padding: 4px 10px; cursor: pointer; }
      .info span { color: #8cf; }
      hr { border: none; border-top: 1px solid #444; margin: 4px 0; }
    </style>
  </head>
  <body>
    <div id="sidebar">
      <h1>@fideus-labs/fidnii</h1>

      <div class="info">
        <label>Status</label>
        <span id="status">Loading...</span>
      </div>

      <div class="info">
        <label>Resolution Levels</label>
        <span id="num-levels">-</span>
      </div>

      <div class="info">
        <label>Current Level</label>
        <span id="current-level">-</span>
      </div>

      <div class="info">
        <label>Target Level</label>
        <span id="target-level">-</span>
      </div>

      <div class="info">
        <label>Bounds X</label>
        <span id="bounds-x">-</span>
      </div>
      <div class="info">
        <label>Bounds Y</label>
        <span id="bounds-y">-</span>
      </div>
      <div class="info">
        <label>Bounds Z</label>
        <span id="bounds-z">-</span>
      </div>

      <hr />

      <div>
        <label>Max Pixels (M)</label>
        <div class="row">
          <input type="range" id="maxpixels" min="1" max="1700" value="50" />
          <span id="maxpixels-value">50</span>
        </div>
      </div>

      <button id="reload">Reload</button>

      <hr />

      <div class="info">
        <label>Clip Planes</label>
        <span id="clip-plane-count">0</span>
      </div>

      <div>
        <label>X Min</label>
        <input type="range" id="xmin" min="0" max="100" step="any" value="0" />
      </div>
      <div>
        <label>X Max</label>
        <input type="range" id="xmax" min="0" max="100" step="any" value="100" />
      </div>
      <div>
        <label>Y Min</label>
        <input type="range" id="ymin" min="0" max="100" step="any" value="0" />
      </div>
      <div>
        <label>Y Max</label>
        <input type="range" id="ymax" min="0" max="100" step="any" value="100" />
      </div>
      <div>
        <label>Z Min</label>
        <input type="range" id="zmin" min="0" max="100" step="any" value="0" />
      </div>
      <div>
        <label>Z Max</label>
        <input type="range" id="zmax" min="0" max="100" step="any" value="100" />
      </div>

      <button id="reset-clip-planes">Reset Clip Planes</button>

      <hr />

      <div>
        <label>Slice View Mode</label>
        <select id="slice-type">
          <option value="4">Render</option>
          <option value="0" selected>Axial</option>
          <option value="1">Coronal</option>
          <option value="2">Sagittal</option>
          <option value="3">Multiplanar</option>
        </select>
      </div>

      <div>
        <label>
          <input type="checkbox" id="viewport-aware" checked />
          Viewport-Aware Resolution
        </label>
      </div>

      <div>
        <label>
          <input type="checkbox" id="scroll-zoom" />
          Scroll to Zoom (2D)
        </label>
      </div>

      <div class="info">
        <label>Slab Level</label>
        <span id="slab-level">-</span>
      </div>
      <div class="info">
        <label>Slab Range</label>
        <span id="slab-range">-</span>
      </div>
    </div>

    <div id="canvas-area">
      <div class="canvas-row">
        <div class="canvas-wrap">
          <span class="canvas-label">3D Render</span>
          <canvas id="gl"></canvas>
        </div>
        <div class="canvas-wrap">
          <span class="canvas-label" id="gl2-label">Axial</span>
          <canvas id="gl2"></canvas>
        </div>
      </div>
    </div>

    <script type="module" src="./main.ts"></script>
  </body>
</html>
